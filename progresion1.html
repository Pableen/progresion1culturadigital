<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen Interactivo - Progresi√≥n 1 | Cultura Digital</title>
    <style>
        :root {
            --azul-marino: #0A2E5C;
            --rosa: #E94B7B;
            --amarillo: #FFD700;
            --gris-claro: #f5f5f5;
            --blanco: #ffffff;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--gris-claro);
            color: #333;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--blanco);
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        header {
            text-align: center;
            padding: 20px 0;
            background-color: var(--azul-marino);
            color: var(--blanco);
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 20px -20px;
        }
        header h1 {
            margin: 0;
            font-size: 1.8rem;
        }
        .subtitle {
            font-size: 1rem;
            margin-top: 5px;
            color: var(--amarillo);
        }
        #logo-container {
            margin-bottom: 20px;
            text-align: center;
        }
        #intro, #question-container, #results {
            padding: 20px;
            display: none;
        }
        #intro.active, #question-container.active, #results.active {
            display: block;
        }
        .question {
            margin-bottom: 30px;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            border-left: 5px solid var(--rosa);
        }
        .question-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--azul-marino);
        }
        .options label {
            display: block;
            margin: 10px 0;
            padding: 10px;
            background-color: #fff;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .options label:hover {
            background-color: #f0f0f0;
            border-color: var(--amarillo);
        }
        .options input[type="radio"]:checked + span {
            color: var(--azul-marino);
            font-weight: bold;
        }
        .drag-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
            min-height: 100px;
        }
        .draggable {
            padding: 12px 20px;
            background-color: var(--rosa);
            color: white;
            border-radius: 5px;
            cursor: grab;
            user-select: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .droppable {
            width: 180px;
            min-height: 80px;
            padding: 15px;
            background-color: #eef7ff;
            border: 2px dashed var(--azul-marino);
            border-radius: 5px;
            margin: 10px 0;
            text-align: center;
            color: #666;
        }
        .true-false-btn {
            display: inline-block;
            padding: 12px 30px;
            margin: 10px;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-true {
            background-color: var(--azul-marino);
            color: white;
        }
        .btn-false {
            background-color: var(--rosa);
            color: white;
        }
        .true-false-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        button {
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            background-color: var(--azul-marino);
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #08254a;
        }
        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        #progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        #progress {
            height: 100%;
            background-color: var(--amarillo);
            width: 0%;
            transition: width 0.3s;
        }
        #results {
            text-align: center;
            background-color: var(--blanco);
            padding: 40px 20px;
            border-radius: 10px;
        }
        #results h2 {
            color: var(--azul-marino);
            margin-bottom: 20px;
        }
        #score {
            font-size: 2rem;
            font-weight: bold;
            color: var(--rosa);
            margin: 20px 0;
        }
        #feedback {
            font-size: 1.2rem;
            margin: 20px 0;
            padding: 15px;
            background-color: #f0f8ff;
            border-radius: 8px;
            color: var(--azul-marino);
        }
        .emoji {
            font-size: 3rem;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div id="logo-container">
                <!-- LOGO AQU√ç -->
                 <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQtZhoROjpNJg27Ow56k-mfMctl-pygzRCRjA&s" alt="COBAEJ Talpa" style="max-height: 80px; margin-bottom: 20px;">
            </div>
            <h1>Examen Interactivo: Progresi√≥n 1</h1>
            <p class="subtitle">Sensei: Juan Pablo Romero Sanchez, COBAEJ Plantel 20 Talpa de Allende</p>
        </header>

        <!-- Pantalla de Introducci√≥n -->
        <div id="intro" class="active">
            <h2>¬°Bienvenido al Examen de Cultura Digital!</h2>
            <p>Consulta tu libro de la Progresi√≥n 1 para responder correctamente.</p>
            <p>El examen tiene 30 preguntas: opci√≥n m√∫ltiple, verdadero/falso y arrastrar-soltar.</p>
            <p>Al final, ver√°s tu puntuaci√≥n y retroalimentaci√≥n.</p>
            <div style="margin: 30px 0;">
                <label for="student-name" style="font-weight: bold; display: block; margin-bottom: 10px;">Ingresa tu nombre completo:</label>
                <input type="text" id="student-name" style="padding: 10px; width: 100%; max-width: 400px; font-size: 1.1rem; border: 2px solid var(--azul-marino); border-radius: 5px;">
            </div>
            <button id="start-btn" style="padding: 15px 40px; font-size: 1.2rem;">¬°Comenzar Examen!</button>
        </div>

        <!-- Contenedor de Preguntas -->
        <div id="question-container">
            <div id="progress-bar"><div id="progress"></div></div>
            <div id="question-area"></div>
            <div class="navigation">
                <button id="prev-btn" disabled>‚¨ÖÔ∏è Anterior</button>
                <button id="next-btn">Siguiente ‚û°Ô∏è</button>
            </div>
        </div>

        <!-- Pantalla de Resultados -->
        <div id="results">
            <h2>üéâ ¬°Examen Completado! üéâ</h2>
            <div class="emoji" id="result-emoji">‚úÖ</div>
            <p id="student-display">Hola, <strong>Nombre del Alumno</strong></p>
            <div id="score" style="font-size: 1.5rem; color: var(--rosa);">0/30</div>
            <p style="margin-top: 20px; font-size: 1.2rem; color: #555;">Tu calificaci√≥n final es:</p>
            <div id="score-base-10" style="font-size: 2.8rem; font-weight: bold; color: var(--azul-marino); margin: 5px 0 20px 0;">0.0</div>
            <div id="feedback">Consulta tu libro para repasar los temas.</div>
            <button id="restart-btn" style="margin-top: 30px; padding: 15px 40px; font-size: 1.2rem;">‚Ü∫ Reiniciar Examen</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const studentNameInput = document.getElementById('student-name');
            const startBtn = document.getElementById('start-btn');
            const introScreen = document.getElementById('intro');
            const questionContainer = document.getElementById('question-container');
            const resultsScreen = document.getElementById('results');
            const questionArea = document.getElementById('question-area');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const progress = document.getElementById('progress');
            const studentDisplay = document.getElementById('student-display');
            const scoreDisplay = document.getElementById('score');
            const feedbackDisplay = document.getElementById('feedback');
            const resultEmoji = document.getElementById('result-emoji');
            const restartBtn = document.getElementById('restart-btn');

            let currentQuestion = 0;
            let studentName = '';
            let answers = [];
            let draggedItems = {};

            const questions = [
                {
                    type: 'multiple',
                    text: 'Seg√∫n la Academia Estadounidense de Pediatr√≠a, ¬øcu√°nto tiempo de pantalla se recomienda para ni√±os de 2 a 5 a√±os? (P√°g. 21)',
                    options: [
                        '30 minutos al d√≠a',
                        '1 hora al d√≠a',
                        '2 horas al d√≠a',
                        'Sin l√≠mite, si es contenido educativo'
                    ],
                    correct: 1
                },
                {
                    type: 'truefalse',
                    text: 'El D√≠a Mundial del Libro y del Derecho de Autor se celebra cada 23 de abril. (P√°g. 28)',
                    correct: true
                },
                {
                    type: 'dragdrop',
                    text: 'Relaciona cada tipo de licencia de software con su ejemplo correcto. (P√°g. 29)',
                    sources: ['Microsoft Windows', 'GNU GPL', 'VLC Media Player', 'Python'],
                    targets: ['Software Propietario', 'Copyleft', 'C√≥digo Abierto', 'Software Libre'],
                    correct: {'Microsoft Windows': 'Software Propietario', 'GNU GPL': 'Copyleft', 'VLC Media Player': 'C√≥digo Abierto', 'Python': 'Software Libre'}
                },
                {
                    type: 'multiple',
                    text: '¬øQu√© ley mexicana protege a las v√≠ctimas de la difusi√≥n no consensuada de im√°genes √≠ntimas, como en el caso de Samantha? (P√°g. 24)',
                    options: [
                        'Ley Federal de Protecci√≥n de Datos Personales',
                        'Ley Olimpia',
                        'Ley de Derechos de Autor',
                        'Ley de Telecomunicaciones'
                    ],
                    correct: 1
                },
                {
                    type: 'truefalse',
                    text: 'La norma internacional ISO 27001 se refiere a la accesibilidad web. (P√°g. 13)',
                    correct: false
                },
                {
                    type: 'multiple',
                    text: '¬øCu√°l de los siguientes NO es un derecho digital reconocido por la ONU? (P√°g. 14-15)',
                    options: [
                        'Derecho a la privacidad',
                        'Derecho a la libertad de expresi√≥n',
                        'Derecho a la neutralidad de la red',
                        'Derecho a tener internet gratis'
                    ],
                    correct: 3
                },
                {
                    type: 'dragdrop',
                    text: 'Arrastra cada valor faltante al caso correspondiente. (P√°g. 13-14)',
                    sources: ['Respeto a la dignidad', 'Empat√≠a y responsabilidad', 'Honestidad y pensamiento cr√≠tico', 'Respeto por la privacidad'],
                    targets: [
                        'Carlos recibe un mensaje ofensivo',
                        'Erick es v√≠ctima de ciberacoso',
                        'Karla encuentra informaci√≥n falsa',
                        'Rafael recibe solicitud de desconocido'
                    ],
                    correct: {
                        'Carlos recibe un mensaje ofensivo': 'Respeto a la dignidad',
                        'Erick es v√≠ctima de ciberacoso': 'Empat√≠a y responsabilidad',
                        'Karla encuentra informaci√≥n falsa': 'Honestidad y pensamiento cr√≠tico',
                        'Rafael recibe solicitud de desconocido': 'Respeto por la privacidad'
                    }
                },
                {
                    type: 'truefalse',
                    text: 'La Ley Olimpia fue promulgada por primera vez en el estado de Puebla en 2019. (P√°g. 24)',
                    correct: true
                },
                {
                    type: 'multiple',
                    text: '¬øQu√© significa "2FA" en seguridad digital? (P√°g. 23)',
                    options: [
                        'Two Factor Authentication',
                        'Two Files Attached',
                        'Two Factor Access',
                        'Two Friends Allowed'
                    ],
                    correct: 0
                },
                {
                    type: 'truefalse',
                    text: 'La identidad digital se refiere √∫nicamente a las contrase√±as que usamos en internet. (P√°g. 18)',
                    correct: false
                },
                {
                    type: 'multiple',
                    text: '¬øCu√°l de estas acciones NO ayuda a reducir tu huella ecol√≥gica digital? (P√°g. 25-26)',
                    options: [
                        'Apagar dispositivos cuando no se usan',
                        'Reciclar dispositivos electr√≥nicos',
                        'Imprimir todos tus documentos digitales',
                        'Usar videoconferencias para evitar viajes'
                    ],
                    correct: 2
                },
                {
                    type: 'dragdrop',
                    text: 'Relaciona cada riesgo digital con su descripci√≥n. (P√°g. 24)',
                    sources: ['Deepfake', 'Grooming', 'Sexting', 'Usurpaci√≥n de identidad'],
                    targets: [
                        'Creaci√≥n de videos falsos con IA',
                        'Adulto que enga√±a a menor con fines sexuales',
                        'Env√≠o de contenido sexual por medios digitales',
                        'Uso fraudulento de datos personales'
                    ],
                    correct: {
                        'Deepfake': 'Creaci√≥n de videos falsos con IA',
                        'Grooming': 'Adulto que enga√±a a menor con fines sexuales',
                        'Sexting': 'Env√≠o de contenido sexual por medios digitales',
                        'Usurpaci√≥n de identidad': 'Uso fraudulento de datos personales'
                    }
                },
                {
                    type: 'truefalse',
                    text: 'La Organizaci√≥n Mundial de la Salud (OMS) ha desarrollado una Estrategia Global de Salud Digital. (P√°g. 21)',
                    correct: true
                },
                {
                    type: 'multiple',
                    text: '¬øQu√© instituci√≥n en M√©xico protege los derechos de autor? (P√°g. 28)',
                    options: [
                        'IMPI',
                        'INEGI',
                        'INDAUTOR',
                        'PROFECO'
                    ],
                    correct: 2
                },
                {
                    type: 'truefalse',
                    text: 'El Reglamento General de Protecci√≥n de Datos (RGPD) aplica solo en Estados Unidos. (P√°g. 20)',
                    correct: false
                },
                {
                    type: 'multiple',
                    text: '¬øQu√© valor le falta al agresor en el caso de Daniel, quien comparte im√°genes comprometedoras sin consentimiento? (P√°g. 14)',
                    options: [
                        'Falta de respeto y empat√≠a',
                        'Falta de puntualidad',
                        'Falta de inter√©s acad√©mico',
                        'Falta de habilidades digitales'
                    ],
                    correct: 0
                },
                {
                    type: 'dragdrop',
                    text: 'Relaciona cada dispositivo con una norma de seguridad recomendada. (P√°g. 31)',
                    sources: ['Computadora de escritorio', 'Tel√©fono m√≥vil', 'Memoria USB', 'Tableta'],
                    targets: [
                        'Usar contrase√±as seguras y cifrado de datos',
                        'No descargar apps de fuentes no confiables',
                        'No conectar a computadoras desconocidas',
                        'Tener cuidado al usar en lugares p√∫blicos'
                    ],
                    correct: {
                        'Computadora de escritorio': 'Usar contrase√±as seguras y cifrado de datos',
                        'Tel√©fono m√≥vil': 'No descargar apps de fuentes no confiables',
                        'Memoria USB': 'No conectar a computadoras desconocidas',
                        'Tableta': 'Tener cuidado al usar en lugares p√∫blicos'
                    }
                },
                {
                    type: 'truefalse',
                    text: 'La salud digital puede ayudar a reducir errores m√©dicos. (P√°g. 22)',
                    correct: true
                },
                {
                    type: 'multiple',
                    text: '¬øQu√© tipo de licencia permite modificar el software pero exige que las modificaciones tambi√©n sean libres? (P√°g. 29)',
                    options: [
                        'Software Propietario',
                        'Copyleft',
                        'Dominio P√∫blico',
                        'Creative Commons'
                    ],
                    correct: 1
                },
                {
                    type: 'truefalse',
                    text: 'La ciudadan√≠a digital implica solo saber usar redes sociales. (P√°g. 12)',
                    correct: false
                },
                {
                    type: 'multiple',
                    text: '¬øQu√© organismo internacional establece principios para la identidad digital, incluyendo privacidad y seguridad? (P√°g. 20)',
                    options: [
                        'UNESCO',
                        'OMS',
                        'OCDE',
                        'ONU Mujeres'
                    ],
                    correct: 2
                },
                {
                    type: 'dragdrop',
                    text: 'Relaciona cada obligaci√≥n del ciudadano digital con su descripci√≥n. (P√°g. 16)',
                    sources: ['Respetar privacidad', 'Proteger seguridad digital', 'Evitar informaci√≥n falsa', 'Ser respetuoso en l√≠nea'],
                    targets: [
                        'No compartir info personal sin consentimiento',
                        'Usar antivirus y contrase√±as fuertes',
                        'Verificar veracidad antes de compartir',
                        'Evitar acoso y bullying digital'
                    ],
                    correct: {
                        'Respetar privacidad': 'No compartir info personal sin consentimiento',
                        'Proteger seguridad digital': 'Usar antivirus y contrase√±as fuertes',
                        'Evitar informaci√≥n falsa': 'Verificar veracidad antes de compartir',
                        'Ser respetuoso en l√≠nea': 'Evitar acoso y bullying digital'
                    }
                },
                {
                    type: 'truefalse',
                    text: 'La Ley Gramm-Leach-Bliley (GLBA) establece requisitos de privacidad para instituciones financieras en EUA. (P√°g. 20)',
                    correct: true
                },
                {
                    type: 'multiple',
                    text: '¬øQu√© significa la sigla TICCAD mencionada en el libro? (P√°g. 12)',
                    options: [
                        'Tecnolog√≠as de Informaci√≥n, Comunicaci√≥n, Conocimiento y Aprendizaje Digitales',
                        'Tecnolog√≠as Inteligentes para el Cambio y el Aprendizaje Digital',
                        'T√©cnicas Inform√°ticas para la Comunicaci√≥n y el An√°lisis de Datos',
                        'Totalmente Integradas en la Cultura y el Aprendizaje Digital'
                    ],
                    correct: 0
                },
                {
                    type: 'truefalse',
                    text: 'La identidad digital no afecta la reputaci√≥n de una persona en el mundo real. (P√°g. 18)',
                    correct: false
                },
                {
                    type: 'multiple',
                    text: '¬øCu√°l de estos NO es un beneficio de la salud digital? (P√°g. 22)',
                    options: [
                        'Acceso a informaci√≥n m√©dica',
                        'Monitoreo remoto de la salud',
                        'Telemedicina',
                        'Aumento del consumo de energ√≠a'
                    ],
                    correct: 3
                },
                {
                    type: 'dragdrop',
                    text: 'Relaciona cada a√±o con el hito en ciudadan√≠a digital. (P√°g. 14-15)',
                    sources: ['1990', '2011', '2016', '2021'],
                    targets: [
                        'Nacimiento de la World Wide Web',
                        'ONU: libertad de expresi√≥n en l√≠nea',
                        'ONU: derecho a la libertad de expresi√≥n aplica en l√≠nea',
                        'ONU: informe sobre privacidad en era digital'
                    ],
                    correct: {
                        '1990': 'Nacimiento de la World Wide Web',
                        '2011': 'ONU: libertad de expresi√≥n en l√≠nea',
                        '2016': 'ONU: derecho a la libertad de expresi√≥n aplica en l√≠nea',
                        '2021': 'ONU: informe sobre privacidad en era digital'
                    }
                },
                {
                    type: 'truefalse',
                    text: 'La pirater√≠a es cuando alguien reproduce contenido protegido sin permiso. (P√°g. 29)',
                    correct: true
                },
                {
                    type: 'multiple',
                    text: '¬øQu√© instituci√≥n regula los derechos de autor en M√©xico? (P√°g. 28)',
                    options: [
                        'SEP',
                        'INDAUTOR',
                        'IMPI',
                        'IFT'
                    ],
                    correct: 1
                },
                {
                    type: 'truefalse',
                    text: 'El acoso escolar (bullying) se caracteriza por intencionalidad, persistencia y asimetr√≠a de poder. (P√°g. 24)',
                    correct: true
                }
            ];

            // Inicializar arrastrar y soltar
            function initDragDrop(questionIndex) {
                const question = questions[questionIndex];
                if (question.type !== 'dragdrop') return;

                const dragContainer = questionArea.querySelector('.drag-container');
                const dropZones = questionArea.querySelectorAll('.droppable');

                dragContainer.addEventListener('dragstart', function(e) {
                    if (e.target.classList.contains('draggable')) {
                        e.dataTransfer.setData('text/plain', e.target.textContent);
                        e.target.classList.add('dragging');
                    }
                });

                dragContainer.addEventListener('dragend', function(e) {
                    if (e.target.classList.contains('draggable')) {
                        e.target.classList.remove('dragging');
                    }
                });

                dropZones.forEach(zone => {
                    zone.addEventListener('dragover', function(e) {
                        e.preventDefault();
                        zone.style.backgroundColor = '#d0e7ff';
                    });

                    zone.addEventListener('dragleave', function(e) {
                        e.preventDefault();
                        zone.style.backgroundColor = '#eef7ff';
                    });

                    zone.addEventListener('drop', function(e) {
                        e.preventDefault();
                        const draggedText = e.dataTransfer.getData('text/plain');
                        
                        if (draggedText && !zone.querySelector('.draggable')) {
                            const clone = document.createElement('div');
                            clone.className = 'draggable';
                            clone.textContent = draggedText;
                            clone.style.cursor = 'default';
                            clone.style.opacity = '0.8';
                            zone.appendChild(clone);

                            // Guardar la asociaci√≥n
                            draggedItems[zone.dataset.target] = draggedText;

                            // Remover el elemento original
                            const original = Array.from(dragContainer.children).find(el => el.textContent === draggedText);
                            if (original) {
                                original.remove();
                            }

                            zone.style.backgroundColor = '#eef7ff';
                        }
                    });
                });
            }

            // Renderizar pregunta actual
            function renderQuestion(index) {
                const question = questions[index];
                let html = `<div class="question">
                    <div class="question-title">Pregunta ${index + 1} de ${questions.length}</div>
                    <p><strong>${question.text}</strong></p>`;

                if (question.type === 'multiple') {
                    html += '<div class="options">';
                    question.options.forEach((option, i) => {
                        const isChecked = answers[index] === i ? 'checked' : '';
                        html += `
                            <label>
                                <input type="radio" name="q${index}" value="${i}" ${isChecked} onchange="saveAnswer(${index}, this.value)">
                                <span>${option}</span>
                            </label>`;
                    });
                    html += '</div>';
                } else if (question.type === 'truefalse') {
                    html += `
                        <div style="text-align: center; margin: 20px 0;">
                            <button class="true-false-btn btn-true" onclick="saveTFAnswer(${index}, true)">Verdadero</button>
                            <button class="true-false-btn btn-false" onclick="saveTFAnswer(${index}, false)">Falso</button>
                        </div>`;
                    if (answers[index] !== undefined) {
                        const selectedBtn = answers[index] === true ? '.btn-true' : '.btn-false';
                        const btn = questionArea.querySelector(selectedBtn);
                        if (btn) btn.style.backgroundColor = '#4CAF50';
                    }
                } else if (question.type === 'dragdrop') {
                    html += '<div class="drag-container" style="justify-content: center;">';
                    question.sources.forEach(source => {
                        html += `<div class="draggable" draggable="true">${source}</div>`;
                    });
                    html += '</div>';
                    html += '<div style="margin: 30px 0;">';
                    question.targets.forEach(target => {
                        html += `<div class="droppable" data-target="${target}">
                            <strong>${target}</strong>
                            <br><small>Suelta aqu√≠</small>
                        </div>`;
                    });
                    html += '</div>';
                }

                html += '</div>';
                questionArea.innerHTML = html;

                // Inicializar drag and drop si es necesario
                if (question.type === 'dragdrop') {
                    draggedItems = {}; // Reiniciar para esta pregunta
                    setTimeout(() => initDragDrop(index), 100);
                }

                // Actualizar barra de progreso
                progress.style.width = `${((index + 1) / questions.length) * 100}%`;

                // Actualizar botones de navegaci√≥n
                prevBtn.disabled = index === 0;
                nextBtn.textContent = index === questions.length - 1 ? 'Finalizar Examen üéØ' : 'Siguiente ‚û°Ô∏è';
            }

            // Guardar respuesta de opci√≥n m√∫ltiple
            window.saveAnswer = function(index, value) {
                answers[index] = parseInt(value);
            };

            // Guardar respuesta de verdadero/falso
            window.saveTFAnswer = function(index, value) {
                answers[index] = value;
                // Resaltar bot√≥n seleccionado
                const btns = questionArea.querySelectorAll('.true-false-btn');
                btns.forEach(btn => {
                    btn.style.backgroundColor = '';
                });
                const selectedBtn = value ? '.btn-true' : '.btn-false';
                const btn = questionArea.querySelector(selectedBtn);
                if (btn) btn.style.backgroundColor = '#4CAF50';
            };

            // Calcular puntuaci√≥n
            function calculateScore() {
                let score = 0;
                questions.forEach((question, index) => {
                    if (question.type === 'multiple' || question.type === 'truefalse') {
                        if (answers[index] === question.correct) {
                            score++;
                        }
                    } else if (question.type === 'dragdrop') {
                        let correctCount = 0;
                        for (let target in question.correct) {
                            if (draggedItems[target] === question.correct[target]) {
                                correctCount++;
                            }
                        }
                        if (correctCount === Object.keys(question.correct).length) {
                            score++;
                        }
                    }
                });
                return score;
            }

            // Mostrar resultados
            function showResults() {
                questionContainer.classList.remove('active');
                resultsScreen.classList.add('active');

                const score = calculateScore();
                const maxScore = questions.length;
                const scoreBase10 = (score / maxScore) * 10;

                studentDisplay.innerHTML = `Hola, <strong>${studentName}</strong>`;
                scoreDisplay.textContent = `Aciertos: ${score}/${maxScore}`;

                const scoreBase10Display = document.getElementById('score-base-10');
                if (scoreBase10Display) {
                    scoreBase10Display.textContent = scoreBase10.toFixed(1);
                }

                let feedback = '';
                let emoji = '‚úÖ';
                if (scoreBase10 >= 9) {
                    feedback = '¬°Excelente! Eres un ciudadano digital ejemplar. üåü';
                    emoji = 'üåü';
                } else if (scoreBase10 >= 7) {
                    feedback = '¬°Muy bien! Consultaste bien tu libro. Sigue as√≠. üëç';
                    emoji = 'üëç';
                } else {
                    feedback = 'Es un buen inicio. Repasa los temas clave en tu libro. üìö';
                    emoji = 'üìö';
                }

                feedbackDisplay.textContent = feedback;
                resultEmoji.textContent = emoji;
            }

            // Event Listeners
            startBtn.addEventListener('click', function() {
                studentName = studentNameInput.value.trim();
                if (studentName === '') {
                    alert('Por favor, ingresa tu nombre.');
                    return;
                }
                introScreen.classList.remove('active');
                questionContainer.classList.add('active');
                renderQuestion(currentQuestion);
            });

            prevBtn.addEventListener('click', function() {
                if (currentQuestion > 0) {
                    currentQuestion--;
                    renderQuestion(currentQuestion);
                }
            });

            nextBtn.addEventListener('click', function() {
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    renderQuestion(currentQuestion);
                } else {
                    showResults();
                }
            });

            restartBtn.addEventListener('click', function() {
                currentQuestion = 0;
                answers = [];
                draggedItems = {};
                studentName = '';
                studentNameInput.value = '';
                resultsScreen.classList.remove('active');
                introScreen.classList.add('active');
            });
        });
    </script>
</body>
</html>